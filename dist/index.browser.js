!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){(function(n){var o,a;!function(n,i){"use strict";"object"==typeof e&&e.exports?e.exports=i():void 0===(a="function"==typeof(o=i)?o.call(t,r,t,e):o)||(e.exports=a)}(0,function(){"use strict";function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(e){return e.error&&e.error.message?e.error.message:"error"}function o(t){if(!t.url)throw new Error("Flora API url must be set");if(this.url="/"===t.url.substr(-1)?t.url:t.url+"/",this.timeout=t.timeout&&!isNaN(Number(t.timeout))?parseInt(t.timeout,10):15e3,t.defaultParams&&"object"==typeof t.defaultParams)for(var r in this.defaultParams={},t.defaultParams)e(t.defaultParams,r)&&(this.defaultParams[r]=t.defaultParams[r]);this.forceGetParams=["client_id","action","access_token"],t.forceGetParams&&Array.isArray(t.forceGetParams)&&t.forceGetParams.length&&Array.prototype.push.apply(this.forceGetParams,t.forceGetParams),t.authenticate&&"function"==typeof t.authenticate&&(this.authenticate=t.authenticate)}function a(e){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}function i(e){if("object"!=typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return o.prototype.execute=function(t){var r=this;return e(t,"id")&&!function(e){var t=typeof e;if("number"===t){if(isNaN(e))return!1;if(!isFinite(e))return!1}return"string"===t||"number"===t}(t.id)?Promise.reject(new Error("Request id must be of type number or string")):t.authenticate?this.authenticate?(t.httpHeaders=t.httpHeaders||{},this.authenticate(t).then(function(){return r._execute(t)})):Promise.reject(new Error("Authenticated requests require an authentication handler")):this._execute(t)},o.prototype._execute=function(t){var r,n,o,s,u={resource:t.resource,id:t.id,params:{},headers:t.httpHeaders||{}},c={},f=["resource","id","cache","data"],p=e(t,"cache")&&!1==!!t.cache;if(u.url=this.url+t.resource+"/"+(t.id||""),t.format&&"json"!==String(t.format).toLocaleLowerCase())return Promise.reject(new Error("Only JSON format supported"));for(t.data&&(u.jsonData=JSON.stringify(t.data),u.headers["Content-Type"]="application/json"),o=0,s=f.length;o<s;++o)delete t[f[o]];for(n in t)e(t,n)&&-1===["authenticate","httpHeaders"].indexOf(n)&&(u.params[n]=t[n]);if(this.defaultParams)for(n in this.defaultParams)e(u.params,n)||(u.params[n]=this.defaultParams[n]);if(u.params.action&&"retrieve"===u.params.action&&delete u.params.action,u.httpMethod=e(t,"httpMethod")?t.httpMethod:function(t){return t.params&&t.params.action&&"retrieve"!==t.params.action||a(t.params).length>2e3||e(t,"jsonData")?"POST":"GET"}(u),this.forceGetParams.length)for(o=0,s=this.forceGetParams.length;o<s;++o)r=this.forceGetParams[o],u.params[r]&&(c[r]=u.params[r],delete u.params[r]);if("object"==typeof u.params&&!i(u.params)&&(u.jsonData||"GET"===u.httpMethod)){for(r in u.params)e(u.params,r)&&(c[r]=u.params[r]);delete u.params}return i(u.params)&&delete u.params,i(c)||(u.url+="?"+a(function(e){var t,r,n=[],o={};for(t in e)e.hasOwnProperty(t)&&n.push(t);if(!n.length)return{};for(n.sort(),r=0;r<n.length;++r)o[n[r]]=e[n[r]];return o}(c))),p&&(u.url+=(-1!==u.url.indexOf("?")?"&":"?")+"_="+(new Date).getTime()),this._request(u)},o.prototype._browserRequest=function(r){var n=new XMLHttpRequest,o=this;if(n.open(r.httpMethod,r.url),n.timeout=o.timeout,!i(r.headers))for(var s in r.headers)e(r.headers,s)&&n.setRequestHeader(s,r.headers[s]);return"POST"!==r.httpMethod?n.send():(n.setRequestHeader("Content-Type","application/"+(r.jsonData?"json":"x-www-form-urlencoded")),n.send(r.params?a(r.params):r.jsonData)),new Promise(function(e,r){n.addEventListener("timeout",function(){r(new Error("Request timed out after "+o.timeout+" milliseconds"))}),n.addEventListener("load",function(){var o;try{o=JSON.parse(n.responseText)}catch(e){return r(e)}if(n.status<400)e(o);else{const e=new Error(t(o));e.response=o,r(e)}})})},o.prototype._nodeRequest=function(e){var o,i=r(2)(),s=i.protocol,u=i.url,c=i.path,f=this,p=u.parse(e.url);return p.headers=e.headers,p.headers.Referer=n.argv.length>0?"file://"+c.resolve(n.argv[1]):"",e.jsonData&&(o=e.jsonData),e.params&&"POST"===e.httpMethod&&(o=a(e.params)),p.method=e.httpMethod,new Promise(function(e,r){var n=s.request(p,function(n){var o="";n.on("data",function(e){o+=e}),n.on("end",function(){var a;try{a=JSON.parse(o)}catch(e){return r(new Error("Couldn't parse response: "+e.message))}if(n.statusCode<400)e(a);else{const e=new Error(t(a));e.response=a,r(e)}})});n.setTimeout(f.timeout,function(){n.abort()}),o&&n.write(o),n.on("error",r),n.end()})},o.prototype._request=o.prototype["object"==typeof window?"_browserRequest":"_nodeRequest"],o})}).call(this,r(1))},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,c=[],f=!1,p=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):p=-1,c.length&&h())}function h(){if(!f){var e=s(l);f=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return{protocol:null,url:null,path:null}}}]);